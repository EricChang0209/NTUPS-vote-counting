<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>選舉結果展示</title>
    <style>
        .bar {
            height: 20px;
            background-color: #4CAF50;
            text-align: right;
            padding-right: 5px;
            color: white;
        }
    </style>
</head>
<body>
    <marquee>{{ data.ticker_text }}</marquee>

    {% if data.display_mode == 'presidential' %}
        <h1>總統選舉結果</h1>
        {% for candidate in data.presidential.candidates %}
            <div>
                <span>{{ candidate.name }}: {{ candidate.votes }}票</span>
                <div class="bar" style="width:{{ candidate.votes }}%">{{ candidate.votes }}票</div>
            </div>
        {% endfor %}
    {% elif data.display_mode == 'legislative' %}
        <h1>區域立委選舉結果</h1>
        {% for area in data.legislative.areas %}
            <h2>{{ area.area }}</h2>
            {% for candidate in area.candidates %}
                <div>
                    <span>{{ candidate.name }}: {{ candidate.votes }}票</span>
                    <div class="bar" style="width:{{ candidate.votes }}%">{{ candidate.votes }}票</div>
                </div>
            {% endfor %}
        {% endfor %}
    {% elif data.display_mode == 'proportional' %}
        <h1>不分區立委選舉結果</h1>
        {% for group, details in data.proportional.seats.items() %}
            <div>
                <span>{{ group }}: {{ details.seats }}席, {{ details.percentage }}%</span>
                <div class="bar" style="width:{{ details.percentage }}%">{{ details.seats }}席</div>
            </div>
        {% endfor %}
    {% endif %}

    <script>
        // 每5秒钟刷新一次页面
        setInterval(function() {
            location.reload();
        }, 5000);
    </script>
</body>
</html>
